<?xml
    version="1.0"
    encoding="UTF-8"
?>
<doctrine-mapping
    xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping
                          http://www.doctrine-project.org/schemas/orm/doctrine-mapping.xsd"
>
    <entity
        name="olml89\XenforoBotsBackend\Bot\Domain\Bot"
        table="bots"
    >
        <id
            name="botId"
            column="bot_id"
            type="uuid"
        />
        <field
            name="apiKey"
            column="api_key"
            type="api_key"
            length="32"
            unique="true"
        />
        <field
            name="username"
            column="username"
            type="username"
            length="50"
            unique="true"
        />
        <one-to-one
            field="subscription"
            target-entity="olml89\XenforoBotsBackend\Bot\Domain\Subscription\Subscription"
            fetch="EAGER"
        >
            <join-column
                name="subscription_id"
                referenced-column-name="subscription_id"
            />
            <cascade>
                <cascade-all/>
            </cascade>
        </one-to-one>
    </entity>
</doctrine-mapping>
